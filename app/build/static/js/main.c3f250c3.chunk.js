(this["webpackJsonpgam-task-tracker"]=this["webpackJsonpgam-task-tracker"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),o=(a(15),a(16),a(1)),d=a.n(o),c=a(2),l=a(3),u=a(4),m=a(6),h=a(5),p=a(7),f=(a(18),a(19),a(20),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list,a=t.id,n=t.name,i=t.items;return s.a.createElement("div",{className:"List"},s.a.createElement("div",{className:"List-name"},n),s.a.createElement("ul",{className:"List-item-ctnr"},i.map((function(t,n){return s.a.createElement("li",{key:n,className:"List-item"},s.a.createElement("div",{className:"List-item-check"},"\u2713"),s.a.createElement("span",{className:"List-item-txt"},t.description),s.a.createElement("div",{className:"List-item-x",onClick:function(){return e.props.deleteTaskFromList(a,t.id)}},"X"))}))))}}]),t}(n.Component)),k=function(e){for(var t=e.lists,a=e.deleteTaskFromList,n=[],i=t.length-1;i>=0;i--)n.push(s.a.createElement(f,{key:i,list:t[i],deleteTaskFromList:a}));return s.a.createElement("div",{className:"ListContainer"},n)},T=(a(21),function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"purple-btn",onClick:function(){return e.hideOrShow([],["addTaskModal"])}},"Add a Task"))}),v=(a(22),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={selectedList:null,otherListNames:[],taskInput:"",modalSlide:1},a.loadSelectedList=function(){var e=a.props.lists;e.length&&a.setState({selectedList:e[e.length-1]})},a.slideOutOrIn=function(e,t){e.length&&e.forEach((function(e){document.getElementById(e).classList.remove("slide-in"),document.getElementById(e).classList.add("slide-out")})),t.length&&t.forEach((function(e){document.getElementById(e).classList.remove("slide-out"),document.getElementById(e).classList.add("slide-in")}))},a.changeHeadingTo=function(e){document.getElementById("AddTaskModal-heading").innerText=e},a.getInputVal=function(){return document.getElementById("AddTaskModal-task-input").value},a.setSelectedList=function(e){var t=e;a.props.hideOrShow(["AddTaskModal-other-lists"],[]),a.updateOtherLists(t),a.setState({selectedList:t})},a.updateOtherLists=function(e){for(var t=a.props.lists,n=[],i=function(i){if(t[i].name===e.name)return"continue";n.push(s.a.createElement("div",{key:t[i].name,className:"AddTaskModal-other-list",onClick:function(){return a.setSelectedList(t[i])}},t[i].name))},r=t.length-1;r>=0;r--)i(r);a.setState({otherListNames:n})},a.chooseList=function(){a.slideOutOrIn(["AddTaskModal-heading","AddTaskModal-list-selecter","AddTaskModal-choose-list-btn"],[]),setTimeout((function(){a.props.hideOrShow(["AddTaskModal-list-selecter","AddTaskModal-choose-list-btn"],["AddTaskModal-task-input-form"]),a.changeHeadingTo("What you need to do"),a.slideOutOrIn([],["AddTaskModal-heading","AddTaskModal-task-input-form"])}),500),a.setState({modalSlide:2})},a.handleChange=function(){var e=a.getInputVal();a.setState({taskInput:e})},a.submitTask=function(){var e=Object(c.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.selectedList.id,s=a.getInputVal(),e.next=5,a.props.addTaskToList(n,s);case 5:a.resetModal();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.resetModal=function(){a.props.hideOrShow(["addTaskModal","AddTaskModal-task-input-form"],["AddTaskModal-list-selecter","AddTaskModal-choose-list-btn"]),a.changeHeadingTo("Which list?"),document.getElementById("AddTaskModal-other-lists").classList.add("hidden"),a.slideOutOrIn([],["AddTaskModal-heading","AddTaskModal-list-selecter","AddTaskModal-choose-list-btn"]),a.setState({taskInput:"",modalSlide:1})},a.componentDidMount=function(){a.loadSelectedList()},a.componentDidUpdate=function(){var e=a.state.selectedList;e&&!a.state.otherListNames.length&&a.updateOtherLists(e)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"AddTaskModal-list-selecter",className:"AddTaskModal-list-selecter-btn slide-in"},s.a.createElement("div",{id:"AddTaskModal-selected-list",className:"AddTaskModal-selected-list",onClick:function(){return document.getElementById("AddTaskModal-other-lists").classList.toggle("hidden")}},this.state.selectedList?this.state.selectedList.name:"Loading lists...",s.a.createElement("div",{className:"AddTaskModal-arrow-down"})),s.a.createElement("div",{id:"AddTaskModal-other-lists",className:"AddTaskModal-other-lists hidden"},this.state.otherListNames)),s.a.createElement("button",{id:"AddTaskModal-choose-list-btn",className:"purple-btn slide-in",onClick:this.chooseList},"Choose This List")),t=s.a.createElement("form",{id:"AddTaskModal-task-input-form",className:"AddTaskModal-task-input-form hidden",onSubmit:this.submitTask},s.a.createElement("input",{id:"AddTaskModal-task-input",className:"AddTaskModal-task-input",type:"text",onChange:this.handleChange,value:this.state.taskInput}),s.a.createElement("button",{type:"submit",className:"purple-btn"},"Add task to ",this.state.selectedList?this.state.selectedList.name:null));return s.a.createElement("div",{id:"addTaskModal",className:"AddTaskModal hidden"},s.a.createElement("button",{className:"purple-btn align-flex-end",onClick:this.resetModal},"X"),s.a.createElement("h1",{id:"AddTaskModal-heading",className:"AddTaskModal-heading slide-in"},"Which list?"),e,t)}}]),t}(n.Component)),g=function(){return fetch("/api/lists").then(function(){var e=Object(c.a)(d.a.mark((function e(t){var a,n,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.lists,s=0;case 5:if(!(s<n.length)){e.next=13;break}return e.next=8,fetch("/api/lists/".concat(n[s].id,"/items")).then((function(e){return e.json()}));case 8:i=e.sent,n[s].items=i.items;case 10:s++,e.next=5;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},E=function(){var e=Object(c.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(t,"/add_item"),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({description:a})}).then((function(e){if(e.ok)return e.json();throw new Error("Error creating task!")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(t,"/items/").concat(a),{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error("Error deleting task!")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={lists:[],isDataLoaded:!1},a.hideOrShow=function(e,t){e.length&&e.forEach((function(e){return document.getElementById(e).classList.add("hidden")})),t.length&&t.forEach((function(e){return document.getElementById(e).classList.remove("hidden")}))},a.addTaskToList=function(){var e=Object(c.a)(d.a.mark((function e(t,n){var s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n);case 2:s=e.sent,i=a.state.lists.map((function(e){return e.id===t&&e.items.push(s),e})),a.setState({lists:i});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.deleteTaskFromList=function(){var e=Object(c.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t,n);case 2:s=a.state.lists.map((function(e){return e.id===t&&(e.items=e.items.filter((function(e){return e.id!==n}))),e})),a.setState({lists:s});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.componentDidMount=Object(c.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,!0,a.setState({lists:t,isDataLoaded:!0});case 5:case"end":return e.stop()}}),e)}))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.state.isDataLoaded?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{hideOrShow:this.hideOrShow}),s.a.createElement(v,{lists:this.state.lists,hideOrShow:this.hideOrShow,addTaskToList:this.addTaskToList}),s.a.createElement(k,{lists:this.state.lists,deleteTaskFromList:this.deleteTaskFromList})):s.a.createElement("div",{className:"loader"},s.a.createElement("div",{className:"loader-inner loader-one"}),s.a.createElement("div",{className:"loader-inner loader-two"}),s.a.createElement("div",{className:"loader-inner loader-three"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.c3f250c3.chunk.js.map